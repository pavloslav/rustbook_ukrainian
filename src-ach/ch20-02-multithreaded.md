## crwdns96090:0crwdne96090:0

crwdns96092:0crwdne96092:0 crwdns96094:0crwdne96094:0 crwdns96096:0crwdne96096:0 crwdns96098:0crwdne96098:0

### crwdns96100:0crwdne96100:0

crwdns96102:0crwdne96102:0 crwdns96104:0crwdne96104:0

<span class="filename">crwdns96106:0crwdne96106:0</span>

```rust,no_run
crwdns96108:0crwdne96108:0
```


<span class="caption">crwdns96110:0crwdne96110:0</span>

crwdns96112:0crwdne96112:0 crwdns96114:0crwdne96114:0

crwdns96116:0crwdne96116:0 crwdns96118:0crwdne96118:0 crwdns96120:0crwdne96120:0 crwdns96122:0crwdne96122:0

crwdns96124:0crwdne96124:0

crwdns96126:0crwdne96126:0 crwdns96128:0crwdne96128:0 crwdns96130:0crwdne96130:0 crwdns96132:0crwdne96132:0

crwdns96134:0crwdne96134:0

### crwdns96136:0crwdne96136:0

crwdns96138:0crwdne96138:0 crwdns96140:0crwdne96140:0 crwdns96142:0crwdne96142:0 crwdns96144:0crwdne96144:0 crwdns96146:0crwdne96146:0

crwdns96148:0crwdne96148:0

crwdns96150:0crwdne96150:0 crwdns96152:0crwdne96152:0 crwdns96154:0crwdne96154:0 crwdns96156:0crwdne96156:0 crwdns96158:0crwdne96158:0 crwdns96160:0crwdne96160:0

crwdns96162:0crwdne96162:0 crwdns96164:0crwdne96164:0 crwdns96166:0crwdne96166:0

crwdns96168:0crwdne96168:0 crwdns96170:0crwdne96170:0 crwdns96172:0crwdne96172:0

crwdns96174:0crwdne96174:0 crwdns96176:0crwdne96176:0 crwdns96178:0crwdne96178:0

<!-- Old headings. Do not remove or links may break. -->
<a id="code-structure-if-we-could-spawn-a-thread-for-each-request"></a>

#### crwdns96180:0crwdne96180:0

crwdns96182:0crwdne96182:0 crwdns96184:0crwdne96184:0 crwdns96186:0crwdne96186:0 crwdns96188:0crwdne96188:0

<span class="filename">crwdns96190:0crwdne96190:0</span>

```rust,no_run
crwdns96192:0crwdne96192:0
```


<span class="caption">crwdns96194:0crwdne96194:0</span>

crwdns96196:0crwdne96196:0 crwdns96198:0crwdne96198:0 crwdns96200:0crwdne96200:0

<!-- Old headings. Do not remove or links may break. -->
<a id="creating-a-similar-interface-for-a-finite-number-of-threads"></a>

#### crwdns96202:0crwdne96202:0

crwdns96204:0crwdne96204:0 crwdns96206:0crwdne96206:0

<span class="filename">crwdns96208:0crwdne96208:0</span>

```rust,ignore,does_not_compile
crwdns96210:0crwdne96210:0
```

<span class="caption">crwdns96212:0crwdne96212:0</span>

crwdns96214:0crwdne96214:0 crwdns96216:0crwdne96216:0 crwdns96218:0crwdne96218:0 crwdns96220:0crwdne96220:0

<!-- Old headings. Do not remove or links may break. -->
<a id="building-the-threadpool-struct-using-compiler-driven-development"></a>

#### crwdns96222:0crwdne96222:0

crwdns96224:0crwdne96224:0 crwdns96226:0crwdne96226:0

```console
crwdns96228:0crwdne96228:0
```

crwdns96230:0crwdne96230:0 crwdns96232:0crwdne96232:0 crwdns96234:0crwdne96234:0 crwdns96236:0crwdne96236:0 crwdns96238:0crwdne96238:0

crwdns96240:0crwdne96240:0

<span class="filename">crwdns96242:0crwdne96242:0</span>

```rust,noplayground
crwdns96244:0crwdne96244:0
```

crwdns96246:0crwdne96246:0

<span class="filename">crwdns96248:0crwdne96248:0</span>

```rust,ignore
crwdns96250:0crwdne96250:0
```

crwdns96252:0crwdne96252:0

```console
crwdns96254:0crwdne96254:0
```

crwdns96256:0crwdne96256:0 crwdns96258:0crwdne96258:0 crwdns96260:0crwdne96260:0

<span class="filename">crwdns96262:0crwdne96262:0</span>

```rust,noplayground
crwdns96264:0crwdne96264:0
```

crwdns96266:0crwdne96266:0 crwdns96268:0crwdne96268:0<!--
ignore --> crwdns96270:0crwdne96270:0

crwdns96272:0crwdne96272:0

```console
crwdns96274:0crwdne96274:0
```

crwdns96276:0crwdne96276:0 crwdns96278:0crwdne96278:0<!-- ignore --> crwdns96280:0crwdne96280:0 crwdns96282:0crwdne96282:0

crwdns96284:0crwdne96284:0 crwdns96286:0crwdne96286:0<!-- ignore --> crwdns96288:0crwdne96288:0 crwdns96290:0crwdne96290:0 crwdns96292:0crwdne96292:0 crwdns96294:0crwdne96294:0

```rust,ignore
crwdns96296:0crwdne96296:0
```

crwdns96298:0crwdne96298:0 crwdns96300:0crwdne96300:0 crwdns96302:0crwdne96302:0 crwdns96304:0crwdne96304:0

crwdns96306:0crwdne96306:0 crwdns96308:0crwdne96308:0

<span class="filename">crwdns96310:0crwdne96310:0</span>

```rust,noplayground
crwdns96312:0crwdne96312:0
```

crwdns96314:0crwdne96314:0 crwdns96316:0crwdne96316:0

crwdns96318:0crwdne96318:0 crwdns96320:0crwdne96320:0

```console
crwdns96322:0crwdne96322:0
```

crwdns96324:0crwdne96324:0 crwdns96326:0crwdne96326:0 crwdns96328:0crwdne96328:0

> crwdns96330:0crwdne96330:0 crwdns96332:0crwdne96332:0 crwdns96334:0crwdne96334:0 crwdns96336:0crwdne96336:0

#### crwdns96338:0crwdne96338:0

crwdns96340:0crwdne96340:0 crwdns96342:0crwdne96342:0 crwdns96344:0crwdne96344:0 crwdns96346:0crwdne96346:0 crwdns96348:0crwdne96348:0 crwdns96350:0crwdne96350:0

<span class="filename">crwdns96352:0crwdne96352:0</span>

```rust,noplayground
crwdns96354:0crwdne96354:0
```


<span class="caption">crwdns96356:0crwdne96356:0</span>

crwdns96358:0crwdne96358:0 crwdns96360:0crwdne96360:0 crwdns96362:0crwdne96362:0

crwdns96364:0crwdne96364:0 crwdns96366:0crwdne96366:0 crwdns96368:0crwdne96368:0

```rust,ignore
crwdns96370:0crwdne96370:0
```

#### crwdns96372:0crwdne96372:0

crwdns96374:0crwdne96374:0 crwdns96376:0crwdne96376:0 crwdns96378:0crwdne96378:0

```rust,ignore
crwdns96380:0crwdne96380:0
```

crwdns96382:0crwdne96382:0 crwdns96384:0crwdne96384:0 crwdns96386:0crwdne96386:0

crwdns96388:0crwdne96388:0 crwdns96390:0crwdne96390:0

<span class="filename">crwdns96392:0crwdne96392:0</span>

```rust,ignore,not_desired_behavior
crwdns96394:0crwdne96394:0
```


<span class="caption">crwdns96396:0crwdne96396:0</span>

crwdns96398:0crwdne96398:0

crwdns96400:0crwdne96400:0 crwdns96402:0crwdne96402:0 crwdns96404:0crwdne96404:0

crwdns96406:0crwdne96406:0

#### crwdns96408:0crwdne96408:0

crwdns96410:0crwdne96410:0 crwdns96412:0crwdne96412:0 crwdns96414:0crwdne96414:0 crwdns96416:0crwdne96416:0 crwdns96418:0crwdne96418:0

crwdns96420:0crwdne96420:0 crwdns96422:0crwdne96422:0 crwdns96424:0crwdne96424:0 crwdns96426:0crwdne96426:0

crwdns96428:0crwdne96428:0 crwdns96430:0crwdne96430:0 crwdns96432:0crwdne96432:0 crwdns96434:0crwdne96434:0

crwdns96436:0crwdne96436:0 crwdns96438:0crwdne96438:0

1. crwdns96440:0crwdne96440:0
2. crwdns96442:0crwdne96442:0
3. crwdns96444:0crwdne96444:0
4. crwdns96446:0crwdne96446:0

crwdns96448:0crwdne96448:0

crwdns96450:0crwdne96450:0 crwdns96452:0crwdne96452:0

<span class="filename">crwdns96454:0crwdne96454:0</span>

```rust,noplayground
crwdns96456:0crwdne96456:0
```


<span class="caption">crwdns96458:0crwdne96458:0</span>

crwdns96460:0crwdne96460:0 crwdns96462:0crwdne96462:0

crwdns96464:0crwdne96464:0 crwdns96466:0crwdne96466:0

> crwdns96468:0crwdne96468:0 crwdns96470:0crwdne96470:0 crwdns96472:0:thread:crwdne96472:0<!-- ignore --> crwdns96474:0crwdne96474:0<!-- ignore --> crwdns96476:0crwdne96476:0

crwdns96478:0crwdne96478:0 crwdns96480:0crwdne96480:0 crwdns96482:0crwdne96482:0

#### crwdns96484:0crwdne96484:0

crwdns96486:0crwdne96486:0 crwdns96488:0crwdne96488:0 crwdns96490:0crwdne96490:0

crwdns96492:0crwdne96492:0

crwdns96494:0crwdne96494:0 crwdns96496:0crwdne96496:0 crwdns96498:0crwdne96498:0

1. crwdns96500:0crwdne96500:0
2. crwdns96502:0crwdne96502:0
3. crwdns96504:0crwdne96504:0
4. crwdns96506:0crwdne96506:0
5. crwdns96508:0crwdne96508:0

crwdns96510:0crwdne96510:0 crwdns96512:0crwdne96512:0

<span class="filename">crwdns96514:0crwdne96514:0</span>

```rust,noplayground
crwdns96516:0crwdne96516:0
```


<span class="caption">crwdns96518:0crwdne96518:0</span>

crwdns96520:0crwdne96520:0 crwdns96522:0crwdne96522:0

crwdns96524:0crwdne96524:0 crwdns96526:0crwdne96526:0 crwdns96528:0crwdne96528:0

<span class="filename">crwdns96530:0crwdne96530:0</span>

```rust,ignore,does_not_compile
crwdns96532:0crwdne96532:0
```

<span class="caption">crwdns96534:0crwdne96534:0</span>

crwdns96536:0crwdne96536:0

crwdns96538:0crwdne96538:0

```console
crwdns96540:0crwdne96540:0
```

crwdns96542:0crwdne96542:0 crwdns96544:0crwdne96544:0 crwdns96546:0crwdne96546:0 crwdns96548:0crwdne96548:0

crwdns96550:0crwdne96550:0

crwdns96552:0crwdne96552:0 crwdns96554:0crwdne96554:0 crwdns96556:0crwdne96556:0

<span class="filename">crwdns96558:0crwdne96558:0</span>

```rust,noplayground
crwdns96560:0crwdne96560:0
```


<span class="caption">crwdns96562:0crwdne96562:0</span>

crwdns96564:0crwdne96564:0 crwdns96566:0crwdne96566:0

crwdns96568:0crwdne96568:0 crwdns96570:0crwdne96570:0

#### crwdns96572:0crwdne96572:0

crwdns96574:0crwdne96574:0 crwdns96576:0crwdne96576:0 crwdns96578:0crwdne96578:0<!-- ignore -->
crwdns96580:0crwdne96580:0 crwdns96582:0crwdne96582:0

<span class="filename">crwdns96584:0crwdne96584:0</span>

```rust,noplayground
crwdns96586:0crwdne96586:0
```


<span class="caption">crwdns96588:0crwdne96588:0</span>

crwdns96590:0crwdne96590:0 crwdns96592:0crwdne96592:0 crwdns96594:0crwdne96594:0 crwdns96596:0crwdne96596:0 crwdns96598:0crwdne96598:0

crwdns96600:0crwdne96600:0 crwdns96602:0crwdne96602:0 crwdns96604:0crwdne96604:0 crwdns96606:0crwdne96606:0

<span class="filename">crwdns96608:0crwdne96608:0</span>

```rust,noplayground
crwdns96610:0crwdne96610:0
```


<span class="caption">crwdns96612:0crwdne96612:0</span>

crwdns96614:0crwdne96614:0 crwdns96616:0crwdne96616:0 crwdns96618:0crwdne96618:0 crwdns96620:0crwdne96620:0

crwdns96622:0crwdne96622:0 crwdns96624:0crwdne96624:0

crwdns96626:0crwdne96626:0 crwdns96628:0crwdne96628:0

crwdns96630:0crwdne96630:0 crwdns96632:0crwdne96632:0

<!-- manual-regeneration
cd listings/ch20-web-server/listing-20-20
cargo run
make some requests to 127.0.0.1:7878
Can't automate because the output depends on making requests
-->

```console
crwdns96634:0crwdne96634:0
crwdns96636:0crwdne96636:0
crwdns96638:0crwdne96638:0
crwdns96640:0crwdne96640:0
crwdns96642:0crwdne96642:0
crwdns96644:0crwdne96644:0
crwdns96646:0crwdne96646:0
crwdns96648:0crwdne96648:0
crwdns96650:0crwdne96650:0
crwdns96652:0crwdne96652:0
```

crwdns96654:0crwdne96654:0 crwdns96656:0crwdne96656:0 crwdns96658:0crwdne96658:0 crwdns96660:0crwdne96660:0

> crwdns96662:0crwdne96662:0 crwdns96664:0crwdne96664:0 crwdns96666:0crwdne96666:0

crwdns96668:0crwdne96668:0

<span class="filename">crwdns96670:0crwdne96670:0</span>

```rust,ignore,not_desired_behavior
crwdns96672:0crwdne96672:0
```


<span class="caption">crwdns96674:0crwdne96674:0</span>

crwdns96676:0crwdne96676:0 crwdns96678:0crwdne96678:0 crwdns96680:0crwdne96680:0 crwdns96682:0crwdne96682:0

crwdns96684:0crwdne96684:0 crwdns96686:0crwdne96686:0 crwdns96688:0crwdne96688:0
crwdns96690:0crwdne96690:0
